<!--
---
page_type: sample
name: "DocumentDB Vector Search for .NET"
description: This console application demonstrates vector search capabilities in Azure Cosmos DB for NoSQL using the .NET SDK. It showcases hybrid and vector search using **Flat**, **QuantizedFlat**, and **DiskANN** index types.
urlFragment: vector-search-dotnet
languages:
- csharp
products:
- azure
---
-->
# Azure Cosmos DB NoSQL Vector Search Sample (.NET)

This console application demonstrates vector search capabilities in Azure Cosmos DB for NoSQL using the .NET SDK. It showcases hybrid and vector search using **Flat**, **QuantizedFlat**, and **DiskANN** index types.

## Features

* **Vector Search**: Demonstrates similarity search using embeddings generated by the **Azure OpenAI client**.
* **RBAC Authentication**: Uses **Microsoft Entra ID** and `DefaultAzureCredential` for secure, keyless access.
* **Index Algorithms**: Compares different vector indexing policies.

## Setup

### Provision Resources

This project is configured to run with the Azure Developer CLI (azd), which provisions the required Azure resources.

To provision resources:

1. Open a terminal in the root folder of this repository (where `azure.yml` is located).
2. Run the following command:

    ```bash
    azd up
    ```

Follow the prompts to select your Azure subscription and environment.

**What is provisioned:**

* **Azure Cosmos DB for NoSQL**: Serverless account with the `Hotels` database and containers
* **Azure OpenAI**: Resource with deployments for:
  * Embedding model: `text-embedding-3-small`
  * Chat model: `gpt-4o-mini`
* **Managed Identity**: User-assigned identity for secure access.
* RBAC assignments for Keyless authentication.

### Configure the app

Update `appsettings.json` with your service endpoints:

```json
{
  "AzureOpenAI": {
    "Endpoint": "https://<your-openai-endpoint>.openai.azure.com",
    "EmbeddingModel": "text-embedding-3-small"
  },
  "CosmosDb": {
    "Endpoint": "https://<your-cosmos-endpoint>.documents.azure.com:443/",
    "DatabaseName": "Hotels"
  }
}
```

## Run the app

1. Navigate to the project folder:

    ```bash
    cd nosql-vector-search-dotnet
    ```

1. Run the application:

    ```bash
    dotnet run
    ```

1. Select an option from the menu (`1` to embed, `3-5` to search).
